---
layout: post
title: "Day 9885"
date: "2019-07-13 22:04:52 +0530"
daily:
  - daily
  - python
  - pydata
  - bengaluru
  - vagrant
  - virtualbox
  - vboxsf
  - debian
---

## Morning

I woke up exactly at 8 AM. I browsed Twitter for almost 30 minutes. Then I
rushed to attend a meetup of PyData Bangalore at Verloop company.


## First Half

I attended a meetup of PyData Bangalore hosted by Verloop. I was early, so I got
a change to interact aurally with an organizer Vinayank. Yesterday I decided to
present "Pipenv" tool as a lightning talk. I created an Github issue which is
usually a method to propose a talk. Vinayak agreed to give me an opportunity to
present a lighting talk at an end of all main sessions.


### USB-c confusion

Because I have having some spare time, I decided to check the connectivity of my
laptop with a projector. In a hurry, I mistakenly plugged my adaptor inside a
power port (which is also USB-c). When my laptop was out of battery backups, I
plugged charger and I realized about my this mistake. Next time I should be
aware of this problem.


### PyData Talks

#### First talk: Extracting names from text


First talk was by an intern of Verloop. She demonstrated a few libraries to
extract a names from text. It was focused on mostly using libraries and
comparing libraries. I will go through those libraries later and find what was
the actual use cases. I forgot her name.


#### Second talk

This talk was on data pipeline and processing data in a pipeline. He gave an
example of tagging incoming data with JSONSchema reference and maintaining a
semantic versioning at incoming data.

If given data is not breaking on incoming schema then it will be increased as a
patch version level.

If it is breaking little bit then it will be upgraded at minor version level

If given data is broken at large level, then it will be upgraded at major level.

I was totally confused with this solution. A data can be non breaking at schema
level or it can be breaking. It isn't make sense to have low breaking or large
breaking.

His talk was mostly on concepts and not based on any libraries. I will try to
watch his video lectures later.


#### Third talk

Mr. Thakur presented a talk on a library which is 28x faster than Regular
Expression in extracting or refacing text. That library is based on some
algorithm that I forgot and a data structure called Trai.

I was confused on a time complexity mentioned by him. I will try to go throw his
talk and learn more about an algorithm that library based on and try to
implement a Trie algorithm.


## Second Half

I spent rest of my day to mount my current folder as if whatever I do inside my
vm it should be replicated at a host OS.

I observe current sync strategy was based on 'rsync' utility. This approach was
syncing all files and folder located at my current folder inside my vm at
'/vagrant' mount point, but whatever I update/add/delete/create inside a vm was
not replicated at host OS.

After reading documentation of Vagrant, I found Vagrant will choose 'rsync' if
it doesn't find any other provider.

Answer of one Stackoverflow question was suggesting to choose "virtualbox" as a
type to mount a current folder inside vm. This was achieved by writing below
line inside my vm.

```
Vagrant.configure("2") do |config|
  config.vm.synced_folder ".", "/vagrant", type: "virtualbox"
end
```

When I ran this command it gave below error

```
Vagrant was unable to mount VirtualBox shared folders. This is usually
because the filesystem "vboxsf" is not available. This filesystem is
made available via the VirtualBox Guest Additions and kernel module.
Please verify that these guest additions are properly installed in the
guest. This is not a bug in Vagrant and is usually caused by a faulty
Vagrant box. For context, the command attempted was:

mount -t vboxsf -o uid=1000,gid=1000 vagrant /vagrant

The error output from the command was:

mount: unknown filesystem type 'vboxsf'
```

I believed there is some problem with my Gentoo configuration again.

I upgraded everything. Installed "virtualbox-additions",
"virtualbox-guest-additions".

Then I re-builded modules with `emerge @module-rebuild` command.

Re-checked everything and rebooted my system.

Unfortunately it was giving same error.

Asked at `#vbox` IRC at Freenode, didn't got any response.

Used search engine to find any help using 'vboxsf' + 'gentoo' as keywords.
Stumbled upon various posts, tried almost every step mentioned there. It wasn't
able to solve it.

Then I thought trying booting from Ubuntu image. I switched to
"hashicorp/precise64" image. And it successfully booted and mounted the current
folder at '/vagrant'.

From this I realized that this error is not with host operating system, but the
mount command is fired from the guest vm.

Then I tried booting a VM from `generic/debian9` vagrant box. This was not from
an official source. But it was able to mount folder in the way I was expecting.

Then I was reading a list of available Virtualbox Vagrant boxes at 
[Vagrant box search][vagrant_box_search]. I read there was another image named
'debian/contrib-stretch64' and it was clearly mentioned that this box is with
'vboxsf' driver.


Voila!

The vagrant box I was using was vanilla. It means it was without 'vboxsf' driver
and Virtualbox was mounting current folder using 'mount' command inside from vm.

This was a lesson! Now whenever you want to use Debian, use
'debian/contrib-streatch64' and not a popular 'debian/streatch64'.

[vagrant_box_search]: https://app.vagrantup.com/boxes/search
